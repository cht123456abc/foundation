<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"></meta>
    <title>测试</title>
</head>
<body>
<form id="form" action="/upload" method="POST" enctype="multipart/form-data" onsubmit="return upload();">
    <input type="file" name="file"/>
    <br/>
    <input type="submit" value="提交"/>
</form>
</body>
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery.form/4.2.2/jquery.form.min.js"></script>
<script>
    function upload() {
        $("#form").ajaxSubmit(function(message) {

        });

        // 500ms 打印一次当前的上传进度
        setInterval(function () {
            $.ajax({
                type:"get",
                dataType: 'json',
                url:"/uploadStatus",
                success: function(result){
                    console.log(result)
                }
            });
        }, 500);

        return false;
    }
</script>
</html>